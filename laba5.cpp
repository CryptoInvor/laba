#include <vector>
#include <string>
#include <iostream>
#include <cstdlib>
using namespace std;struct ticket {string dest;string number;string surname;string date;};ticket generate() {ticket tick;vector<string> destonations {"brazil", "russia", "USA", "Scotland","India","Canada","United Kingdom","Egypt","France","Italy"};vector<string> numbers {"785", "6", "1337", "87", "12", "98354627", "341", "822", "228", "40"};vector<string> surnames {"Jackson", "Fiber", "Muller", "Smith", "Jonhson", "Idiot", "West", "Wild", "Biber", "Pitt"};vector<string> dates {"12/12/2025", "02/08/2025", "19/04/2025", "01/09/2025", "21/05/2025", "07/01/2025", "09/07/2025", "27/11/2024", "31/10/2025", "01/01/2001"};for (int i = 0; i < 4; i++) {tick.dest = destonations[(rand() % 10)];tick.number = numbers[(rand() % 10)];tick.surname = surnames[(rand() % 10)];tick.date = dates[(rand() % 10)];}return tick;}bool check_date(string date) {string sub;int cnt = 0;if (date.size() < 10) { return false; }for (int i = 0; i < date.size(); i++) {if ((int)date[i] >= (int)'0' && (int)date[i] <= (int)'9') {sub += date[i]; } else if (date[i] == '/' && sub.size() != 0) {switch (cnt) {case 0: {if (stoi(sub) < 1 || stoi(sub) > 31) {return false;}break;}case 1: {if (stoi(sub) < 1 || stoi(sub) > 12) {return false;}break;}}cnt++;sub = "";} else {return false;}}return true;}ticket add() {ticket tick;string name;cin.ignore(numeric_limits<streamsize>::max(), '\n');cout << "напиши пунт назначения: ";getline(cin, name);tick.dest = name;cout << "напиши номер рейса: ";getline(cin, name);tick.number = name;cout << "напиши Фамилию: ";getline(cin, name);tick.surname = name;cout << "напиши Дату (DD/MM/YYYY): ";while (!check_date(name)) { cout << "напиши Дату (DD/MM/YYYY): "; getline(cin, name); }tick.date = name;cout << "Добавлено успешно" << endl;string a;cin >> a;return tick;}void show_all(vector<ticket> tick, int num) {for (int j = 0; j < num; j++) {cout << "Билет №" << j + 1 << endl;cout << "   " << tick[j].dest << endl;cout << "   " << tick[j].number << endl;cout << "   " << tick[j].surname << endl;cout << "   " << tick[j].date << endl;}string a;cin >> a;}vector<ticket> delet(vector<ticket> tick, int num, int tick_num) {if (tick.size() < tick_num) {cout << "Такого билета не существует" << endl;return tick;}else {tick.erase(tick.begin() + tick_num);return tick;}}void search(vector<ticket> tick, string date, string number) {int count = 0;for (int i = 0; i < tick.size(); i++) {if ((tick[i].date == date) && (tick[i].number == number)) {cout << "Билет №" << i + 1 << endl;cout << "   " << tick[i].dest << endl;cout << "   " << tick[i].surname << endl;count++;}}if (count == 0) { cout << "Билета с такой датой и номером рейса не найдено "; }string a;cin >> a;}int main(){setlocale(LC_CTYPE, "");system("chcp 1251");system("cls");int num = 0, exit = 0, isnumbr = 0, choce = 0;string choice, a;srand(time(NULL));vector<ticket> tickets;cout << "Введите количество билетов: ";cin >> num;for (int j = 0; j < num; j++) {ticket placeholder = generate();tickets.push_back(placeholder);}while (exit == 0) {system("cls");cout << "Введите 1 для вывода списка билетов" << endl;cout << "Введите 2 для создания новго билета" << endl;cout << "Введите 3 для удаление билета по номеру" << endl;cout << "Введите 4 для поиска билета по номеру рейса и дате" << endl;cout << "Введите 5 для выхода" << endl;cin >> choice;system("cls");for (int i = 0; i < choice.length(); i++) {if (!(((int)choice[i] >= 48) && ((int)choice[i] <= 57))) {cout << "надо ввести число" << endl;isnumbr = 1;choce = 0;cin >> a;break;}}if (isnumbr == 0) {choce = stoi(choice);} else {isnumbr = 0;}if (choce == 5) {exit = 1;break;}switch (choce) {case 1:{system("cls");show_all(tickets, num);}break;case 2:{system("cls");tickets.push_back(add());num += 1;}break;case 3:{system("cls");cout << " номер билета, пожалуйста" << endl;string t;cin >> t;if((int)t[1] == 0){int t_num = stoi(t);tickets = delet(tickets, num, (t_num-1));num -= 1;}else{cout << "номер должен быть больше нуля" << endl;}}break;case 4: {system("cls");string dat, numb;cout << "Введите дату (DD/MM/YYYY)" << endl;cin >> dat;cout << "Введите номер рейса" << endl;cin >> numb;search(tickets, dat, numb);}break;}}}